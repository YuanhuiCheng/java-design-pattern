# 工厂模式

**参考：** [通俗易通的23种设计模式教学之工厂模式](https://www.bilibili.com/video/BV1mc411h719?p=3)

### 核心

- 实例化对象不使用new，用工厂方法代替。
- 将选择实现类，创建对象统一管理和控制，从而将调用者跟我们的实现类解耦。

### 模式

- 简单工厂
    - 用来生产同一等级结构中的任意产品（对于增加新的产品，需要覆盖已有代码）。
- 工厂方法
    - 用来生产同一等级结构中的固定产品（支持增加任意产品）。
- 抽象工厂
    - 围绕一个超级工厂创建其他工厂，该超级工厂又称为其他工厂的工厂。

### 应用场景

- JDK中Calendar的getInstance方法
- JDBC中的Connection对象的获取
- Spring中IoC容器创建管理bean对象
- 反射中Class对象的newInstance方法

### 抽象工厂模式

- 定义：提供了一个创建一系列相关或者相互依赖对象的接口，无需指定它们具体的类。
- 适用场景：
  - 客户端（应用层）不依赖于产品类实例如何被创建，实现等细节。
  - 强调一系列相关的产品对象（属于同一产品族）一起使用，创建对象需要大量的重复代码。
  - 提供一个产品类的库，所有的产品以同样的接口出现，从而使得客户端不依赖于具体的实现。